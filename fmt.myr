use "die.use"
use "sys.use"
use "types.use"
use "str.use"

pkg std =
	const bfmt	: (buf : byte[,], fmt : byte[,], args:... -> size)
	const fmt	: (fmt : byte[,], args:... -> size)
;;

const fmt = {fmt, args
	var c
	var n

	n = 0
	while fmt.len
		(c, fmt) = striter(fmt)
		if c == '%'
			(c, fmt) = striter(fmt)
			match c
			's':
				write(1, "str")
				;;
			'd':
				write(1, "int")
				;;
			'p':
				write(1, "ptr")
				;;
			;;
		;;
	;;
	write(1, "\n")
	-> n
}
